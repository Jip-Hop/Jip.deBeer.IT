var idx;document.documentElement.className=document.documentElement.className.replace(/\bno-js\b/g,"")+" js ",function(){var e;e=function(){var e=document.querySelector("#main > .archive .entries-list");if(e){var t=document.querySelector("#main > .archive .pagination");if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){t.remove(),document.querySelector("#main > .archive [data-infinite-scroll]").remove(),document.querySelector("#main > .archive").insertAdjacentHTML("beforeend",'<div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>');var i=document.querySelector("#main > .archive .lds-ellipsis"),n=2,r=window.location.origin+window.location.pathname,s=window.location.pathname.split("/");s.pop(),(s=s.pop()).startsWith("page")&&(n=parseInt(s.split("page").pop())+1,r+="../");var o=!1,c=new IntersectionObserver((function(t){t.some((function(e){return e.intersectionRatio>0}))&&(o||(o=!0,fetch(r+"/page"+n+"/").then((function(e){switch(e.status){case 200:return e.text();case 404:c.unobserve(i),i.remove()}})).then((function(t){var i=new RegExp('(?:<div class="entries-list">)((.[\\s\\S]*))(?:<i data-infinite-scroll)',"ig").exec(t);i&&i.length>1&&(e.insertAdjacentHTML("beforeend",i[1]),n++)})).catch((function(e){console.log(e)})).finally((function(){o=!1}))))}));c.observe(i)}else t.style="display: flex"}function a(e,t,i){!function(e,t){var i=document.createElement("script");i.type="text/javascript",i.onload=t,i.src=e,document.head.appendChild(i)}(e[t],(function(){t<e.length-1?a(e,t+1,i):i()}))}document.addEventListener("keyup",(function(e){if("Escape"===e.key){var t=document.querySelector(".initial-content");t&&t.classList.contains("is--hidden")&&(document.querySelector(".search-content")?.classList.remove("is--visible"),t.classList.remove("is--hidden"))}}));var l=document.currentScript.src.substr(0,document.currentScript.src.lastIndexOf("/")),d=document.querySelector(".search__toggle");if(d){function u(){window.scrollTo(0,0),document.querySelector(".search-content")?.classList.toggle("is--visible"),document.querySelector(".initial-content")?.classList.toggle("is--hidden"),document.querySelector(".search-content input")?.focus()}d.addEventListener("click",(function e(){d.removeEventListener("click",e),d.addEventListener("click",u),u(),a([l+"/lunr/lunr.min.js",l+"/lunr/lunr-store.js"],0,(function(){idx=lunr((function(){for(var e in this.field("title"),this.field("excerpt"),this.field("tags"),this.ref("id"),this.pipeline.remove(lunr.trimmer),store)this.add({title:store[e].title,excerpt:store[e].excerpt,tags:store[e].tags,id:e})}));var e=document.getElementById("search");e&&e.addEventListener("keyup",(function(){var t=document.getElementById("results");if(t){var i=e.value.toLowerCase(),n=idx.query((function(e){i.split(lunr.tokenizer.separator).forEach((function(t){e.term(t,{boost:100}),i.lastIndexOf(" ")!=i.length-1&&e.term(t,{usePipeline:!1,wildcard:lunr.Query.wildcard.TRAILING,boost:10}),""!=t&&e.term(t,{usePipeline:!1,editDistance:1,boost:1})}))}));for(var r in t.innerHTML='<p class="results__found">'+n.length+" Result(s) found</p>",n){var s=n[r].ref,o='<div class="list__item"><article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"><a href="'+store[s].url+'" rel="permalink"><h2 class="archive__item-title" itemprop="headline">'+store[s].title+'</h2><div class="archive__item-teaser">'+store[s].teaser+'</div><p class="archive__item-excerpt" itemprop="description">'+store[s].excerpt.split(" ").splice(0,20).join(" ")+"...</p></a></article></div>";t.insertAdjacentHTML("beforeend",o)}}}))}))}))}},"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}();